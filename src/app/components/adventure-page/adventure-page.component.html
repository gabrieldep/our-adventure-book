<div class="adventure-page relative w-full h-full min-h-[400px]">
  @if (isFirstPage()) {
    <div class="text-center pt-2 pb-6">
      <h1 class="font-heading text-[#4B3621] text-2xl md:text-3xl lg:text-4xl font-bold">
        Gabriel & Ana.
      </h1>
    </div>
  }
  <div class="relative w-full flex-1 min-h-[520px]">
    @for (el of elementsWithAdventure(); track el.adventure.id) {
      <div
        class="absolute transform"
        [style.top.%]="el.layout.top"
        [style.left.%]="el.layout.left"
        [style.transform]="'rotate(' + el.layout.rotation + 'deg)'"
      >
      @switch (el.adventure.type) {
        @case ('photo') {
          <app-polaroid
            [imageUrl]="el.adventure.contentUrl || ''"
            [caption]="el.adventure.description"
            [rotation]="0"
          />
        }
        @case ('map') {
          @if (el.adventure.coordinates) {
            <div class="w-full max-w-[580px] min-w-[280px]">
              <app-adventure-map
                [coordinates]="el.adventure.coordinates"
                [mapContainerId]="'map-' + el.adventure.id"
              />
              <p class="font-handwriting text-[#4B3621] text-sm mt-1">{{ el.adventure.title }}</p>
            </div>
          }
        }
        @case ('note') {
          <div
            class="note max-w-[200px] p-3 bg-[#F5F5DC] border border-[#4B3621]/30 rounded shadow-sm font-handwriting text-[#4B3621] text-sm"
          >
            <strong class="font-typewriter">{{ el.adventure.title }}</strong>
            <p class="mt-1">{{ el.adventure.description }}</p>
          </div>
        }
      }
      </div>
    }
  </div>
</div>
